---
title: 글 목록 만들기
categories: [Study, Diary]
---
깃허브 블로그 작성의 핵심은 yaml 문법이다. html 혹은 md 파일 상단에 변수를 선언하고, 중괄호를 써서 화면 내에 그 변수를 출력하거나 if, for 등의 반복, 조건문, 그리고 내장 함수를 사용할 수 있다. 동작 원리는 php와 비슷하다. 중요한 것은 내장 변수인데, 포스트 목록을 만들기 위해선 site 변수를 쓰면 된다. yaml 문법과 변수에 대한 전반적인 내용은 jekyll 공식 문서와 _layouts/home.html 파일에 minima 테마의 기본 목록 출력 알고리즘이 코딩되어 있으므로 이를 참고했다. 다만 지금 난관은, 카테고리별로 문서를 분류하고 네비게이션을 만들기가 어려울 것 같다는 점. 카테고리는 yaml에서 가상의 디렉토리로 인식하는데, 대부분의 함수에선 그냥 카테고리가 달라도 무시하고 _post 폴더 내의 같은 파일 묶음으로 여겨지는 것 같다. 예컨대 page.next와 page.previous는 카테고리와 상관 없이 포스트 폴더 내부에서 전자와 후자를 출력하므로, 이를 토대로 네비게이션을 만들면 생뚱맞은 주제의 글로 이동하게 될 수도 있다. 카테고리별로 글을 분류할 방법을 알아 내야 한다.
<br>
site.categories.CATEGORY로 해당 카테고리에 속한 모든 포스트의 리스트를 참조 할 수 있다. 정렬이 제대로 되어 있다면, 루프로 현재 포스트를 찾고 그것을 기준으로 이전과 다음 것을 검색 할 수 있을 것이다.
<br>
<br>
한편 css 파일의 대체는 scss파일이다.
<br>
<br>
yaml 문법이라 생각했던 것이 알고보니 Liquid의 문법이었다.
<br>
<br>
jekyll 구조에 카테고리간의 자체적 상하관계는 없다.
<br>
따라서 카테고리의 관계를 명시한 콜렉션 파일을 따로 만드는게 낫겠다.
<br>
date 파일에 카테고리 종속성 파일을 만들었다. 그런데 liquid에는 함수나 while 루트 문법이 없다. 재귀적인 알고리즘을 짤 수가 없다. 어차피 카테고리 깊이가 깊어질수록 가독성은 떨어진다. 그냥 가독성도 챙길 겸 부모 카테고리와 자식 카테고리만 사용하자.
<br>
<br>
카테고리에 따른 글 목록을 추가하는데는 성공했다. 이제 남은 과업은 웹 크기에 따른 반응형 디자인과 목차를 여닫는 동적인 기능이다. 또 포스트를 어떻게 정렬 할 것인지도 고민해 봐야 한다. 작성일과 수정일을 더 간편히 설정하는 방법이 있지 않을까?