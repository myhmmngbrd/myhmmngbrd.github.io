---
title: "깃허브 블로그"
toc: true
toc_sticky: true

date: 2021-11-08
last_modified_at: 2021-11-08
---

jekyll 블로그는 생소한 시스템으로 구성된다. 일반적으로 블로그를 개설하려면 자체 포맷을 제공하는 네이버나 다음같은 포털 사이트를 이용하거나, 서버를 처음부터 직접 만들어야 한다. 그러나 깃허브 블로그는 서버만 제공한다. 포맷, 즉 프론트엔드 웹페이지는 사용자가 만들어야 한다. 따라서 일반적인 블로그를 작성하는 방식과는 많은 부분에서 다르다. 따라서 웹 개발에 문외한이라면 사용하기 어렵고, 웹을 대강 알아도 생소한 방식일 것이다.
<br>
<br>
대략적으로 이해한 과정은 다음과 같다.
우선 블로그를 개설하려면 깃허브에 적당한 이름의 저장소를 만든다.
만들어진 저장소에 로컬 컴퓨터에 설치된 jekyll로 만든 소스 파일을 올리면, 깃허브 서버 내부에 설치된 jekyll이 알아서 출력 파일을 만들어준다. 서버는 실시간으로 작동하며, 도메인은 깃허브에서 제공해준다. 블로그 개설에 대한 자세한 과정은 github pages, jekyll 공식 문서에 잘 나와 있다. 
<br>
<br>
특이한 점은 블로그 인터페이스에 글쓰기 버튼이 없다는 것이다. 그 이유는 jekyll이 서버 스크립트가 아니기 때문이다. jekyll의 역할은 데이터베이스 서버처럼 실시간으로 사용자와 소통하는 것이 아니라, 그냥 정적인 출력 파일을 만들어 주는 것이다. jekyll은 그냥 웹페이지를 더 편하게 만드는 보조 도구일 뿐이다. 서버와 소통할 방법이 없으므로, 글쓰기 버튼도 없다. 그럼 포스트를 어떻게 써야 할까?
<br>
<br>
공식 문서를 참조하여 블로그를 개설했다면, 루트 폴더에는 _posts 폴더가 있을 것이다. _posts 폴더에 마크다운(.md) 문법으로 포스트를 작성해서 저장소에 올리면, 자동으로 목록이 갱신된다. php가 실시간으로 데이터베이스 서버와 소통하여 글 목록을 불러 오듯, jekyll은 정적 출력 파일을 만드는 시점에 _post 파일 내부의 문서를 읽어서 포스트 목록을 구성한다.
<br>
<br>
또 하나의 특징은, ui 수정과 디자인을 위한 디폴트 파일들이 숨어 있다는 것이다. 루트 폴더에는 _post 폴더와 더불어 _site 폴더가 있다. 이는 앞서 말한 출력 파일이 저장되는 경로로, 로컬 컴퓨터의 _site폴더는 그저 디버깅용이므로 저장소에 push를 해도 업로드 되지 않는다. 깃허브 내부의 숨은 저장소에 _site 폴더가 자동으로 만들어지는 것 같다. 그럼 홈페이지는 어떻게 수정해야 할까? 이를 위해선 숨어있는 jekyll 기본 파일들의 경로를 알아야 한다. 커맨드 라인에 <span style="color: #ddd; background: #333">bundle show [테마 이름]</span>을 입력하면, 현재 테마의 파일들이 저장된 디렉토리 경로를 출력한다. 테마 이름은 _config.yml 파일에 저장되어 있다.
이 테마의 경로를 웹 루트 폴더에 붙여넣고 수정해야 한다. 예컨대 minima 테마는 header.html, default.html, footer.html 세 파일이 합쳐져서 출력된다. header.html을 수정하고 싶다면, 커맨드 라인에서 bundle show minima를 입력해서 minima 테마의 경로를 알아낸다. header 파일의 경로는 /minima/_includes/header.html이다. 이 파일의 내용을 복사 한 후에, 웹 루트 폴더에 _includes/header.html 파일을 만든다. 복사한 코드를 붙여넣은 후 원하는 대로 수정한 후에, 저장소에 업로드하면 수정된 내용이 반영 된다.
<br>
<br>
최신 버전에서, webrick이라는 번들이 자동으로 생성되지 않아서 오류가 발생한다. 공식 문서에는 이 정보가 누락되어 있다. 웹 루트 폴더의 커맨드라인에서 <span style="color: #ddd; background: #333;">bundle add webrick</span>을 입력해주면 해결된다.